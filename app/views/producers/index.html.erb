<% content_for :title, "Producers" %>

<ol class="breadcrumb">
  <li><%= link_to 'Home', root_path %></li>
  <li class="active"><%= link_to 'Producers', producers_path %></li>
</ol>

<form class="form-inline text-center" role="form" method="get">
  <div class="form-group">
    <label for="q" class="sr-only">Query</label>
    <input type="search" name="q" value="<%= params[:q] %>" class="form-control" placeholder="Enter a search term...">
  </div>

  <input type="submit" class="btn btn-primary" value="Search">
</form>
<hr>

<%= paginate @producers %>

<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Number of wines</th>
    </tr>
  </thead>

  <tbody>
    <% @producers.each do |producer| %>
      <%= content_tag_for :tr, producer do %>
        <td><%= link_to producer.name, producer %></td>
        <td><%= number_to_human(producer.wines.count) %></td>
      <% end %>
    <% end %>
  </tbody>
</table>

<%= paginate @producers %>
